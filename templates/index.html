<!DOCTYPE html>
<html lang="en">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="../Static/style.css">
        <style>
            .navbar-nav li {
                margin: 0px 20px;
            }
            .active{
                color: white;
            }
            .btn {
                color: white;
                border-color: white;
                margin: 0px 20px;
            }
            form {
                display: flex;
                margin: 0px 20px;
            }
            .form-group {
                margin: 15px;
            }
            table{
                border: 1px solid black;
            }
            .nav-link {
                color: white;
            }
        </style>
        </head>
        <body>
            <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
                <div class="container">

                    <a class="navbar-brand" href="/">Data Table App</a>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <form class="form-inline my-2 my-lg-0" action="/search" method="get" enctype="multipart/form-data">
                            <input class="form-control mr-sm-2" name="name" type="search" placeholder="Search Name" aria-label="Search">
                            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                        </form>
                        <form class="form-inline my-2 my-lg-0" action="/salary" method="get" enctype="multipart/form-data">
                            <input class="form-control mr-sm-2" name="salary" type="salary" placeholder="Less than XX salary" aria-label="Search">
                            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                        </form>
                    </div>
                </div>
            </nav>
            <div class="container">
                <div class="card" style="margin: 1em 0; padding: 1em 0 0 0; align-items: center;">
                    <h3>Upload Data File</h3>
                    <div class="form-group">
                        <form action="/upload-data" method="post" enctype="multipart/form-data">
                            <input type="file" name="data" accept=".csv">
                            <input type="submit">
                        </form>
                    </div> 
                </div>
                <div class="card" style="margin: 1em 0; padding: 1em 0 0 0; align-items: center;">
                    <h3>Upload Images</h3>
                    <div class="form-group">
                        <form action="/upload-imgs" method="post" enctype="multipart/form-data">
                            <input type="file" name="photos" accept=".png, .jpeg, .jpg, .gif" multiple>
                            <input type="submit">
                        </form>
                    </div> 
                </div>
                
                    <table id='customers' class="table">
                        <tr>
                            <th>Name</th>
                            <th>Salary</th>
                            <th>Room</th>
                            <th>Telnum</th>
                            <th>Picture</th> 
                           <th>Keywords</th>
                        </tr>
                        {% for people in data %}
                        <tr>
                           <td>{{people[0]}}</td>
                           <td>{{people[2]}}</td>
                           <td>{{people[4]}}</td>
                           <td>{{people[5]}}</td>
                           {% if people[6] in images %}
                           <td>

                               <img src={{images[people[6]]}} alt="" style="width:100px;">
                           </td>
                            {% else %}
                            <td>

                                <p> {{people[6]}} </p>
                            </td>
                            {% endif %} 
                           <td>{{people[7]}}</td>
                        </tr>
                        {% endfor %}
                     </table>
            </body>
</html>